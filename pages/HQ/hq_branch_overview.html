<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Branch Overview ‚Äî GDC ManPower System</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Playfair+Display:wght@700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --red-deep:    #6B1212;
  --red-primary: #C0392B;
  --red-bright:  #E74C3C;
  --red-soft:    #F5C6C2;
  --red-glow:    rgba(192,57,43,0.12);
  --cream:       #FDF8F6;
  --warm-white:  #FFFAF9;
  --charcoal:    #1C1C1E;
  --gray-dark:   #3A3A3C;
  --gray-mid:    #6C6C70;
  --gray-light:  #E5E0DF;
  --gray-pale:   #F2EEEC;
  --gold:        #C9A84C;
  --green:       #1E8449;
  --green-light: #27AE60;
  --green-bg:    #dcfce7;
  --blue:        #1A5276;
  --blue-light:  #2980B9;
  --orange:      #D35400;
  --amber:       #d97706;
  --amber-bg:    #fef3c7;
  --sidebar-w:   260px;
}

*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'DM Sans',sans-serif;background:var(--cream);color:var(--charcoal);display:flex;min-height:100vh;overflow-x:hidden;}

/* ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ */
.sidebar{width:var(--sidebar-w);background:linear-gradient(170deg,#140606 0%,#2C0F0F 50%,#3D1515 100%);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100;box-shadow:4px 0 30px rgba(0,0,0,0.35);}
.sidebar::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--red-primary),var(--gold),var(--red-primary));}
.brand{padding:22px 20px 18px;border-bottom:1px solid rgba(255,255,255,0.07);}
.brand-logo{display:flex;align-items:center;gap:11px;margin-bottom:6px;}
.brand-icon{width:40px;height:40px;background:linear-gradient(135deg,var(--red-primary),var(--red-deep));border-radius:11px;display:flex;align-items:center;justify-content:center;font-size:15px;font-weight:800;color:#fff;box-shadow:0 4px 15px rgba(192,57,43,0.5);flex-shrink:0;letter-spacing:-1px;}
.brand-text h2{font-family:'Playfair Display',serif;color:#fff;font-size:14px;letter-spacing:0.5px;line-height:1.2;}
.brand-text span{color:var(--red-soft);font-size:10px;letter-spacing:2px;text-transform:uppercase;font-weight:500;}
.hq-badge{display:inline-flex;align-items:center;gap:5px;background:linear-gradient(135deg,var(--gold),#A07830);color:#fff;font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;padding:3px 10px;border-radius:20px;margin-top:7px;}
.nav-section{padding:16px 0;flex:1;overflow-y:auto;}
.nav-section::-webkit-scrollbar{width:3px;}.nav-section::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.1);border-radius:3px;}
.nav-label{color:rgba(255,255,255,0.28);font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:7px 20px 5px;}
.nav-item{display:flex;align-items:center;gap:11px;padding:10px 20px;color:rgba(255,255,255,0.55);cursor:pointer;transition:all 0.2s;border-left:3px solid transparent;font-size:13.5px;font-weight:500;text-decoration:none;}
.nav-item:hover{color:#fff;background:rgba(255,255,255,0.05);border-left-color:var(--red-primary);}
.nav-item.active{color:#fff;background:linear-gradient(90deg,rgba(192,57,43,0.28),transparent);border-left-color:var(--red-primary);}
.nav-item .icon{font-size:15px;width:20px;text-align:center;}
.nbadge{margin-left:auto;background:var(--red-primary);color:#fff;font-size:10px;font-weight:700;padding:2px 7px;border-radius:10px;}
.nbadge.gold{background:var(--gold);}
.sidebar-footer{padding:14px 20px;border-top:1px solid rgba(255,255,255,0.07);display:flex;align-items:center;gap:11px;}
.s-avatar{width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,var(--red-primary),var(--red-deep));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:12px;flex-shrink:0;border:2px solid rgba(255,255,255,0.15);}
.s-avatar-info strong{color:#fff;font-size:12.5px;display:block;}
.s-avatar-info small{color:rgba(255,255,255,0.38);font-size:10.5px;}

/* ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ */
.main{margin-left:var(--sidebar-w);flex:1;display:flex;flex-direction:column;height:100vh;overflow:hidden;}

/* ‚îÄ‚îÄ TOPBAR ‚îÄ‚îÄ */
.topbar{background:var(--warm-white);border-bottom:1px solid var(--gray-light);padding:0 30px;height:62px;display:flex;align-items:center;gap:18px;flex-shrink:0;box-shadow:0 1px 10px rgba(0,0,0,0.06);}
.topbar-title{flex:1;}
.topbar-title h1{font-family:'Playfair Display',serif;font-size:19px;color:var(--charcoal);display:flex;align-items:center;gap:9px;}
.topbar-title p{font-size:11.5px;color:var(--gray-mid);margin-top:1px;}
.topbar-right{display:flex;align-items:center;gap:10px;}

.badge-critical{background:rgba(192,57,43,0.08);color:var(--red-primary);border-radius:9px;padding:7px 13px;font-size:12px;font-weight:700;border:1px solid var(--red-soft);display:flex;align-items:center;gap:5px;}
.btn-outline{background:var(--warm-white);color:var(--gray-dark);border:1px solid var(--gray-light);padding:8px 15px;border-radius:9px;font-size:12.5px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all 0.2s;font-family:'DM Sans',sans-serif;}
.btn-outline:hover{background:var(--gray-pale);}
.btn-primary{background:linear-gradient(135deg,var(--red-primary),var(--red-deep));color:#fff;border:none;padding:8px 16px;border-radius:9px;font-size:12.5px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all 0.2s;box-shadow:0 3px 12px rgba(192,57,43,0.3);font-family:'DM Sans',sans-serif;}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(192,57,43,0.4);}

/* ‚îÄ‚îÄ KPI ROW ‚îÄ‚îÄ */
.kpi-row{display:grid;grid-template-columns:repeat(4,1fr);gap:13px;padding:18px 30px 0;flex-shrink:0;}
.kpi-card{background:var(--warm-white);border-radius:13px;padding:16px 15px;border:1px solid var(--gray-light);position:relative;overflow:hidden;transition:all 0.2s;animation:fadeUp 0.4s ease both;display:flex;align-items:flex-start;justify-content:space-between;}
.kpi-card:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,0.08);}
.kpi-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;}
.kpi-card.c-blue::before{background:linear-gradient(90deg,var(--blue),var(--blue-light));}
.kpi-card.c-green::before{background:linear-gradient(90deg,var(--green),var(--green-light));}
.kpi-card.c-red::before{background:linear-gradient(90deg,var(--red-primary),var(--red-bright));}
.kpi-card.c-amber::before{background:linear-gradient(90deg,var(--amber),#f59e0b);}
.kpi-card.alert{border:2px solid var(--red-soft);box-shadow:0 0 0 4px rgba(245,198,194,0.3);}
.kpi-card:nth-child(1){animation-delay:.05s}.kpi-card:nth-child(2){animation-delay:.1s}.kpi-card:nth-child(3){animation-delay:.15s}.kpi-card:nth-child(4){animation-delay:.2s}
.kpi-icon{font-size:22px;opacity:0.5;}
.kpi-label{font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--gray-mid);margin-bottom:6px;}
.kpi-value{font-size:30px;font-weight:700;line-height:1.1;margin-bottom:3px;}
.kpi-sub{font-size:11px;color:var(--gray-mid);}

/* ‚îÄ‚îÄ TABS ‚îÄ‚îÄ */
.tabs-bar{display:flex;gap:2px;padding:14px 30px 0;border-bottom:1px solid var(--gray-light);flex-shrink:0;background:transparent;}
.tab-btn{padding:10px 20px;border:none;background:transparent;font-size:13px;font-weight:600;color:var(--gray-mid);border-bottom:3px solid transparent;cursor:pointer;margin-bottom:-1px;font-family:'DM Sans',sans-serif;transition:all 0.15s;}
.tab-btn.active{color:var(--red-primary);border-bottom-color:var(--red-primary);}
.tab-btn:hover:not(.active){color:var(--gray-dark);}

/* ‚îÄ‚îÄ CONTENT ‚îÄ‚îÄ */
.content{flex:1;overflow-y:auto;padding:22px 30px;}
.content::-webkit-scrollbar{width:5px;}.content::-webkit-scrollbar-track{background:transparent;}.content::-webkit-scrollbar-thumb{background:var(--gray-light);border-radius:3px;}
.tab-panel{display:none;}
.tab-panel.active{display:block;}

/* ‚îÄ‚îÄ FILTER CHIPS ‚îÄ‚îÄ */
.filters{display:flex;gap:8px;margin-bottom:18px;flex-wrap:wrap;}
.chip{padding:6px 15px;border-radius:20px;border:2px solid var(--gray-light);background:var(--warm-white);color:var(--gray-dark);font-size:12px;font-weight:600;cursor:pointer;font-family:'DM Sans',sans-serif;transition:all 0.15s;}
.chip.active{background:var(--red-primary);color:#fff;border-color:var(--red-primary);}
.chip:hover:not(.active){border-color:var(--red-primary);color:var(--red-primary);}

/* ‚îÄ‚îÄ BRANCH GRID ‚îÄ‚îÄ */
.branch-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));gap:14px;}

.branch-card{background:var(--warm-white);border-radius:14px;border:1px solid var(--gray-light);padding:18px 20px;cursor:pointer;transition:all 0.2s;animation:fadeUp 0.35s ease both;}
.branch-card:hover{box-shadow:0 6px 20px rgba(0,0,0,0.09);transform:translateY(-2px);}
.branch-card.selected{border:2px solid var(--red-primary);box-shadow:0 4px 20px rgba(192,57,43,0.18);}
.branch-card.critical-card{border:2px solid var(--red-soft);}
.branch-card.critical-card:hover{box-shadow:0 6px 20px rgba(192,57,43,0.15);}
.branch-card:nth-child(1){animation-delay:.05s}.branch-card:nth-child(2){animation-delay:.1s}.branch-card:nth-child(3){animation-delay:.15s}.branch-card:nth-child(4){animation-delay:.2s}.branch-card:nth-child(5){animation-delay:.25s}.branch-card:nth-child(6){animation-delay:.3s}

.bc-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px;}
.bc-name{font-size:16.5px;font-weight:700;color:var(--charcoal);}
.bc-meta{font-size:12px;color:var(--gray-mid);margin-top:2px;}

.status-pill{border-radius:20px;padding:3px 11px;font-size:11px;font-weight:700;white-space:nowrap;border:1px solid transparent;}
.status-good{background:rgba(30,132,73,0.1);color:var(--green);border-color:rgba(30,132,73,0.25);}
.status-warning{background:var(--amber-bg);color:#92400e;border-color:rgba(217,119,6,0.25);}
.status-critical{background:rgba(192,57,43,0.1);color:var(--red-primary);border-color:var(--red-soft);}

/* Manpower bar */
.mp-row{display:flex;justify-content:space-between;font-size:12px;margin-bottom:7px;}
.mp-label{color:var(--gray-dark);font-weight:600;}
.mp-count{color:var(--gray-dark);}
.mp-count strong{font-size:14px;font-weight:800;}
.mp-count span{color:var(--gray-mid);}
.bar-track{background:var(--gray-pale);border-radius:6px;height:9px;overflow:hidden;margin-bottom:8px;}
.bar-fill{height:100%;border-radius:6px;transition:width 0.6s cubic-bezier(.4,0,.2,1);}
.bar-green{background:linear-gradient(90deg,var(--green),var(--green-light));}
.bar-amber{background:linear-gradient(90deg,var(--amber),#f59e0b);}
.bar-red{background:linear-gradient(90deg,var(--red-primary),var(--red-bright));}

.gap-badge{display:inline-flex;align-items:center;gap:4px;background:rgba(192,57,43,0.08);color:var(--red-primary);border-radius:7px;padding:4px 10px;font-size:12px;font-weight:700;margin-bottom:12px;border:1px solid var(--red-soft);}

/* Attendance mini stats */
.att-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:13px;}
.att-cell{text-align:center;background:var(--gray-pale);border-radius:9px;padding:8px 4px;}
.att-num{font-size:19px;font-weight:800;line-height:1;}
.att-lbl{font-size:10px;color:var(--gray-mid);margin-top:2px;}
.rate-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;}
.rate-label{font-size:12px;color:var(--gray-mid);}
.rate-val{font-size:14px;font-weight:700;font-family:'DM Mono',monospace;}

/* Urgent hiring */
.hiring-section{border-top:1px solid var(--gray-pale);padding-top:12px;margin-top:10px;}
.hiring-title{font-size:11px;font-weight:700;color:var(--red-primary);margin-bottom:8px;display:flex;align-items:center;gap:4px;letter-spacing:0.3px;}
.hiring-tags{display:flex;flex-wrap:wrap;gap:6px;}
.htag{border-radius:20px;padding:3px 11px;font-size:11px;font-weight:700;border:1px solid;}
.htag-urgent{background:rgba(192,57,43,0.08);color:var(--red-primary);border-color:var(--red-soft);}
.htag-moderate{background:var(--amber-bg);color:#92400e;border-color:#fcd34d;}

/* ‚îÄ‚îÄ POSTINGS TAB ‚îÄ‚îÄ */
.notice-bar{background:linear-gradient(135deg,#fff7ed,var(--amber-bg));border:1px solid #fcd34d;border-radius:13px;padding:14px 18px;margin-bottom:20px;display:flex;align-items:center;gap:12px;}
.notice-icon{font-size:24px;flex-shrink:0;}
.notice-title{font-weight:700;color:#92400e;font-size:14px;}
.notice-sub{font-size:12px;color:#b45309;margin-top:2px;}

.postings-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:14px;margin-bottom:30px;}
.post-card{background:var(--warm-white);border-radius:13px;border:1px solid var(--gray-light);border-left-width:4px;padding:16px 18px;animation:fadeUp 0.35s ease both;transition:box-shadow 0.2s;}
.post-card:hover{box-shadow:0 6px 18px rgba(0,0,0,0.08);}
.post-card.urgent-card{border-left-color:var(--red-primary);}
.post-card.moderate-card{border-left-color:var(--amber);}
.post-card:nth-child(1){animation-delay:.05s}.post-card:nth-child(2){animation-delay:.1s}.post-card:nth-child(3){animation-delay:.15s}.post-card:nth-child(4){animation-delay:.2s}.post-card:nth-child(5){animation-delay:.25s}.post-card:nth-child(6){animation-delay:.3s}

.post-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;}
.post-position{font-weight:800;font-size:15px;color:var(--charcoal);}
.post-meta{font-size:12px;color:var(--gray-mid);margin-top:2px;}
.priority-pill{border-radius:20px;padding:3px 10px;font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase;flex-shrink:0;}
.pill-urgent{background:linear-gradient(135deg,var(--red-primary),var(--red-deep));color:#fff;}
.pill-moderate{background:var(--amber);color:#fff;}
.post-stats{display:flex;gap:14px;font-size:12px;color:var(--gray-dark);margin-bottom:10px;}
.public-badge{background:rgba(30,132,73,0.1);color:var(--green);border-radius:8px;padding:5px 10px;font-size:11px;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:4px;border:1px solid rgba(30,132,73,0.2);}
.post-actions{display:flex;gap:8px;}
.post-btn{flex:1;border:none;border-radius:9px;padding:8px 0;font-size:12px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;transition:all 0.15s;}
.post-btn-outline{background:var(--warm-white);color:var(--gray-dark);border:1px solid var(--gray-light);}
.post-btn-outline:hover{background:var(--gray-pale);}
.post-btn-solid{background:linear-gradient(135deg,var(--red-primary),var(--red-deep));color:#fff;border:none;box-shadow:0 3px 10px rgba(192,57,43,0.25);}
.post-btn-solid:hover{box-shadow:0 5px 15px rgba(192,57,43,0.35);}

/* ‚îÄ‚îÄ LANDING PREVIEW ‚îÄ‚îÄ */
.landing-preview{background:linear-gradient(160deg,#140606 0%,#3D1515 100%);border-radius:16px;overflow:hidden;}
.preview-bar{padding:12px 20px;background:rgba(255,255,255,0.05);display:flex;align-items:center;gap:10px;border-bottom:1px solid rgba(255,255,255,0.06);}
.dot-row{display:flex;gap:5px;}
.dot{width:10px;height:10px;border-radius:50%;}
.preview-url{color:var(--red-soft);font-size:12px;background:rgba(255,255,255,0.06);padding:4px 12px;border-radius:20px;font-family:'DM Mono',monospace;}
.preview-body{padding:28px;}
.preview-eyebrow{text-align:center;color:var(--red-soft);font-size:10px;letter-spacing:3px;font-weight:700;margin-bottom:6px;}
.preview-title{text-align:center;color:#fff;font-family:'Playfair Display',serif;font-size:24px;margin-bottom:6px;}
.preview-sub{text-align:center;color:rgba(255,255,255,0.45);font-size:13px;margin-bottom:24px;}
.preview-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;}
.preview-card{background:rgba(255,255,255,0.06);border-radius:10px;padding:14px 16px;border:1px solid rgba(255,255,255,0.08);transition:background 0.2s;}
.preview-card:hover{background:rgba(255,255,255,0.1);}
.preview-card-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px;}
.preview-pos{color:#fff;font-weight:700;font-size:14px;}
.preview-urgent{background:var(--red-primary);color:#fff;border-radius:4px;padding:1px 7px;font-size:9px;font-weight:800;letter-spacing:1px;}
.preview-loc{color:rgba(255,255,255,0.45);font-size:11px;margin-bottom:12px;}
.preview-apply{width:100%;background:var(--red-primary);color:#fff;border:none;border-radius:7px;padding:8px 0;font-size:12px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;transition:background 0.15s;}
.preview-apply:hover{background:var(--red-bright);}
.more-jobs{text-align:center;margin-top:16px;color:rgba(255,255,255,0.3);font-size:12px;}

@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>

<!-- ‚ïê‚ïê SIDEBAR ‚ïê‚ïê -->
<aside class="sidebar">
  <div class="brand">
    <div class="brand-logo">
      <div class="brand-icon">GDC</div>
      <div class="brand-text"><h2>ManPower</h2><span>Monitoring System</span></div>
    </div>
    <div class="hq-badge">‚≠ê HQ ‚Äî HR Admin</div>
  </div>

  <nav class="nav-section">
    <div class="nav-label">Overview</div>
    <a class="nav-item" href="#"><span class="icon">üìä</span>HQ Dashboard</a>
    <a class="nav-item active" href="#"><span class="icon">üè¢</span>Branch Overview</a>
    <a class="nav-item" href="#"><span class="icon">üìà</span>Analytics & Reports</a>

    <div class="nav-label" style="margin-top:8px">Workforce</div>
    <a class="nav-item" href="#"><span class="icon">üë•</span>All Employees<span class="nbadge gold">248</span></a>
    <a class="nav-item" href="#"><span class="icon">üìÖ</span>Attendance Monitor</a>
    <a class="nav-item" href="#"><span class="icon">üóìÔ∏è</span>Schedules</a>
    <a class="nav-item" href="#"><span class="icon">üöÄ</span>Deployments</a>

    <div class="nav-label" style="margin-top:8px">Hiring</div>
    <a class="nav-item" href="#"><span class="icon">üìã</span>Job Postings<span class="nbadge" id="sidebar-count">10</span></a>
    <a class="nav-item" href="#"><span class="icon">üì•</span>Applications</a>

    <div class="nav-label" style="margin-top:8px">System</div>
    <a class="nav-item" href="#"><span class="icon">‚öôÔ∏è</span>Settings</a>
    <a class="nav-item" href="#"><span class="icon">üì§</span>Export / Sync</a>
  </nav>

  <div class="sidebar-footer">
    <div class="s-avatar">BA</div>
    <div class="s-avatar-info">
      <strong>HR Administrator</strong>
      <small>HQ ‚Äî Super Admin</small>
    </div>
    <span style="color:rgba(255,255,255,0.3);font-size:16px;margin-left:auto">‚ãØ</span>
  </div>
</aside>

<!-- ‚ïê‚ïê MAIN ‚ïê‚ïê -->
<main class="main">

  <!-- TOPBAR -->
  <header class="topbar">
    <div class="topbar-title">
      <h1>üè¢ Branch Overview</h1>
      <p>Manpower status, attendance rates & urgent hiring needs ‚Äî Feb 20, 2026</p>
    </div>
    <div class="topbar-right">
      <div class="badge-critical" id="critical-badge">üî¥ 2 Critical Branches</div>
      <button class="btn-outline">üîî Notify Branches</button>
      <button class="btn-primary">üì§ Export Report</button>
    </div>
  </header>

  <!-- KPI ROW -->
  <div class="kpi-row">
    <div class="kpi-card c-blue">
      <div>
        <div class="kpi-label">Total Branches</div>
        <div class="kpi-value" style="color:var(--blue-light)" id="kpi-branches">6</div>
        <div class="kpi-sub">Active nationwide</div>
      </div>
      <div class="kpi-icon">üè¢</div>
    </div>
    <div class="kpi-card c-green">
      <div>
        <div class="kpi-label">Present Today</div>
        <div class="kpi-value" style="color:var(--green)" id="kpi-present">172</div>
        <div class="kpi-sub" id="kpi-present-sub">of 202 deployed</div>
      </div>
      <div class="kpi-icon">‚úÖ</div>
    </div>
    <div class="kpi-card c-red alert">
      <div>
        <div class="kpi-label">Manpower Gap</div>
        <div class="kpi-value" style="color:var(--red-primary)" id="kpi-gap">26</div>
        <div class="kpi-sub">Positions unfilled vs required</div>
      </div>
      <div class="kpi-icon">‚ö†Ô∏è</div>
    </div>
    <div class="kpi-card c-amber">
      <div>
        <div class="kpi-label">Open Job Postings</div>
        <div class="kpi-value" style="color:var(--amber)" id="kpi-postings">10</div>
        <div class="kpi-sub">Urgent positions needed</div>
      </div>
      <div class="kpi-icon">üìã</div>
    </div>
  </div>

  <!-- TABS -->
  <div class="tabs-bar">
    <button class="tab-btn active" onclick="switchTab('overview',this)">Branch Status</button>
    <button class="tab-btn" onclick="switchTab('postings',this)" id="postings-tab-btn">üìã Job Postings (10)</button>
  </div>

  <!-- CONTENT -->
  <div class="content">

    <!-- ‚îÄ‚îÄ OVERVIEW TAB ‚îÄ‚îÄ -->
    <div class="tab-panel active" id="tab-overview">
      <div class="filters">
        <button class="chip active" onclick="filterBranches('all',this)">All Branches</button>
        <button class="chip" onclick="filterBranches('good',this)">‚úÖ Good</button>
        <button class="chip" onclick="filterBranches('warning',this)">‚ö†Ô∏è Warning</button>
        <button class="chip" onclick="filterBranches('critical',this)">üî¥ Critical</button>
      </div>
      <div class="branch-grid" id="branch-grid"></div>
    </div>

    <!-- ‚îÄ‚îÄ POSTINGS TAB ‚îÄ‚îÄ -->
    <div class="tab-panel" id="tab-postings">
      <div class="notice-bar">
        <div class="notice-icon">üåê</div>
        <div>
          <div class="notice-title">Public Job Postings ‚Äî Visible on Company Landing Page</div>
          <div class="notice-sub">Only positions marked as "Needed" are automatically published. Applicants can apply directly from the public careers page.</div>
        </div>
        <button class="btn-primary" style="margin-left:auto;flex-shrink:0" onclick="scrollToPreview()">üåê View Preview ‚Üì</button>
      </div>

      <div class="postings-grid" id="postings-grid"></div>

      <div class="landing-preview" id="landing-preview">
        <div class="preview-bar">
          <div class="dot-row">
            <div class="dot" style="background:#ff5f57"></div>
            <div class="dot" style="background:#febc2e"></div>
            <div class="dot" style="background:#28c840"></div>
          </div>
          <div class="preview-url">üåê gdcmanpower.com/careers ‚Äî Public Landing Page Preview</div>
        </div>
        <div class="preview-body">
          <div class="preview-eyebrow">GDC MANPOWER ¬∑ CAREERS</div>
          <div class="preview-title">We're Hiring ‚Äî Join Our Team</div>
          <div class="preview-sub">Urgent openings available across our branches nationwide</div>
          <div class="preview-grid" id="preview-grid"></div>
          <div class="more-jobs" id="more-jobs-label"></div>
        </div>
      </div>
    </div>

  </div>
</main>

<script>
const branches = [
  {id:"ncr-north",name:"NCR North",location:"Quezon City",manager:"Ana Reyes",present:41,total:48,required:50,late:3,absent:4,onLeave:2,rate:85,status:"warning",urgentHiring:[{position:"Security Guard",needed:3,priority:"urgent"},{position:"HR Staff",needed:1,priority:"moderate"}]},
  {id:"ncr-south",name:"NCR South",location:"Para√±aque City",manager:"Ben Santos",present:30,total:35,required:40,late:2,absent:3,onLeave:1,rate:86,status:"warning",urgentHiring:[{position:"Admin Assistant",needed:2,priority:"urgent"},{position:"Technician",needed:3,priority:"urgent"}]},
  {id:"cebu-main",name:"Cebu Main",location:"Cebu City",manager:"Clara Lim",present:38,total:42,required:42,late:1,absent:2,onLeave:1,rate:90,status:"good",urgentHiring:[]},
  {id:"davao",name:"Davao",location:"Davao City",manager:"Dan Cruz",present:26,total:31,required:38,late:4,absent:1,onLeave:3,rate:84,status:"critical",urgentHiring:[{position:"Driver",needed:4,priority:"urgent"},{position:"Security Guard",needed:2,priority:"urgent"},{position:"Admin Staff",needed:1,priority:"moderate"}]},
  {id:"iloilo",name:"Iloilo",location:"Iloilo City",manager:"Eva Flores",present:26,total:28,required:28,late:0,absent:2,onLeave:0,rate:93,status:"good",urgentHiring:[]},
  {id:"batangas",name:"Batangas",location:"Batangas City",manager:"Fred Mendez",present:11,total:18,required:30,late:2,absent:5,onLeave:0,rate:61,status:"critical",urgentHiring:[{position:"Technician",needed:5,priority:"urgent"},{position:"Driver",needed:3,priority:"urgent"},{position:"Security Guard",needed:4,priority:"urgent"}]},
];

const postings = branches.flatMap(b => b.urgentHiring.map(h => ({branch:b.name,location:b.location,position:h.position,needed:h.needed,priority:h.priority})));
let selectedBranchId = null;

function statusLabel(s){return s==='good'?'‚úÖ Good':s==='warning'?'‚ö†Ô∏è Warning':'üî¥ Critical';}
function barClass(b){const p=b.total/b.required;return p>=1?'bar-green':p>=0.8?'bar-amber':'bar-red';}
function rateColor(s){return s==='good'?'var(--green)':s==='warning'?'var(--amber)':'var(--red-primary)';}

function renderBranches(filter){
  const grid = document.getElementById('branch-grid');
  const filtered = filter==='all' ? branches : branches.filter(b=>b.status===filter);
  grid.innerHTML = filtered.map(b => {
    const gap = Math.max(0, b.required - b.total);
    const pct = Math.min(100, (b.total / b.required) * 100);
    const hiring = b.urgentHiring.length > 0 ? `
      <div class="hiring-section">
        <div class="hiring-title">üö® URGENT HIRING NEEDED</div>
        <div class="hiring-tags">${b.urgentHiring.map(h=>`<span class="htag ${h.priority==='urgent'?'htag-urgent':'htag-moderate'}">${h.position} √ó${h.needed}</span>`).join('')}</div>
      </div>` : '';
    const gapHtml = gap > 0 ? `<div class="gap-badge">‚ö° Needs ${gap} more employee${gap>1?'s':''}</div>` : '';
    return `
      <div class="branch-card ${b.status==='critical'?'critical-card':''} ${selectedBranchId===b.id?'selected':''}" id="bc-${b.id}" onclick="selectBranch('${b.id}')">
        <div class="bc-header">
          <div><div class="bc-name">${b.name}</div><div class="bc-meta">üìç ${b.location} ¬∑ Manager: ${b.manager}</div></div>
          <span class="status-pill status-${b.status}">${statusLabel(b.status)}</span>
        </div>
        <div class="mp-row"><span class="mp-label">Manpower Level</span><span class="mp-count"><strong>${b.total}</strong><span> / ${b.required} required</span></span></div>
        <div class="bar-track"><div class="bar-fill ${barClass(b)}" style="width:${pct}%"></div></div>
        ${gapHtml}
        <div class="att-grid">
          <div class="att-cell"><div class="att-num" style="color:var(--green)">${b.present}</div><div class="att-lbl">Present</div></div>
          <div class="att-cell"><div class="att-num" style="color:var(--amber)">${b.late}</div><div class="att-lbl">Late</div></div>
          <div class="att-cell"><div class="att-num" style="color:var(--red-primary)">${b.absent}</div><div class="att-lbl">Absent</div></div>
          <div class="att-cell"><div class="att-num" style="color:var(--gray-mid)">${b.onLeave}</div><div class="att-lbl">On Leave</div></div>
        </div>
        <div class="rate-row"><span class="rate-label">Attendance Rate</span><span class="rate-val" style="color:${rateColor(b.status)}">${b.rate}%</span></div>
        ${hiring}
      </div>`;
  }).join('');
}

function renderPostings(){
  document.getElementById('postings-grid').innerHTML = postings.map((p,i) => `
    <div class="post-card ${p.priority}-card" style="animation-delay:${(i+1)*0.05}s">
      <div class="post-header">
        <div><div class="post-position">${p.position}</div><div class="post-meta">üìç ${p.branch} ¬∑ ${p.location}</div></div>
        <span class="priority-pill pill-${p.priority}">${p.priority}</span>
      </div>
      <div class="post-stats"><span>üë• <strong style="color:var(--red-primary)">${p.needed}</strong> slot${p.needed>1?'s':''} needed</span><span>üìÖ Feb 20, 2026</span></div>
      <div class="public-badge">üåê Visible on public careers page</div>
      <div class="post-actions">
        <button class="post-btn post-btn-outline">‚úèÔ∏è Edit Posting</button>
        <button class="post-btn post-btn-solid">üë§ View Applicants</button>
      </div>
    </div>`).join('');

  document.getElementById('preview-grid').innerHTML = postings.slice(0,6).map(p => `
    <div class="preview-card">
      <div class="preview-card-top"><span class="preview-pos">${p.position}</span>${p.priority==='urgent'?'<span class="preview-urgent">URGENT</span>':''}</div>
      <div class="preview-loc">üìç ${p.branch} ¬∑ ${p.needed} opening${p.needed>1?'s':''}</div>
      <button class="preview-apply">Apply Now ‚Üí</button>
    </div>`).join('');

  const extra = postings.length - 6;
  document.getElementById('more-jobs-label').textContent = extra > 0 ? `+${extra} more positions available` : '';
}

function updateKPIs(){
  const tp = branches.reduce((a,b)=>a+b.present,0);
  const td = branches.reduce((a,b)=>a+b.total,0);
  const tg = branches.reduce((a,b)=>a+Math.max(0,b.required-b.total),0);
  const cr = branches.filter(b=>b.status==='critical').length;
  document.getElementById('kpi-present').textContent = tp;
  document.getElementById('kpi-present-sub').textContent = `of ${td} deployed`;
  document.getElementById('kpi-gap').textContent = tg;
  document.getElementById('kpi-postings').textContent = postings.length;
  document.getElementById('kpi-branches').textContent = branches.length;
  document.getElementById('critical-badge').innerHTML = `üî¥ ${cr} Critical Branch${cr!==1?'es':''}`;
  document.getElementById('postings-tab-btn').textContent = `üìã Job Postings (${postings.length})`;
  document.getElementById('sidebar-count').textContent = postings.length;
}

function selectBranch(id){
  selectedBranchId = selectedBranchId===id ? null : id;
  document.querySelectorAll('.branch-card').forEach(el=>el.classList.remove('selected'));
  if(selectedBranchId){const el=document.getElementById('bc-'+selectedBranchId);if(el)el.classList.add('selected');}
}

function filterBranches(filter, btn){
  document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
  btn.classList.add('active');
  selectedBranchId = null;
  renderBranches(filter);
}

function switchTab(tab, btn){
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
  document.querySelectorAll('.tab-panel').forEach(p=>p.classList.remove('active'));
  btn.classList.add('active');
  document.getElementById('tab-'+tab).classList.add('active');
}

function scrollToPreview(){document.getElementById('landing-preview').scrollIntoView({behavior:'smooth'});}

document.querySelectorAll('.nav-item').forEach(item=>{
  item.addEventListener('click',function(){
    document.querySelectorAll('.nav-item').forEach(i=>i.classList.remove('active'));
    this.classList.add('active');
  });
});

updateKPIs();
renderBranches('all');
renderPostings();
</script>
</body>
</html>