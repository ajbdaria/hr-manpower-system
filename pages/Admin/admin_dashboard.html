<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GDC ManPower — VP Executive Intelligence</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --red:         #C0392B;
  --red-deep:    #7B1E1E;
  --red-muted:   rgba(192,57,43,0.09);
  --red-border:  rgba(192,57,43,0.22);
  --gold:        #B8942A;
  --green:       #1A7A41;
  --green-lt:    #25A35A;
  --green-muted: rgba(26,122,65,0.10);
  --orange:      #C05621;
  --orange-muted:rgba(192,86,33,0.09);
  --blue:        #1B5FA8;
  --blue-muted:  rgba(27,95,168,0.09);
  --ink:         #111318;
  --ink-2:       #3C4049;
  --ink-3:       #6B7280;
  --rule:        #E4E7EB;
  --surface:     #F8F9FA;
  --canvas:      #F0F2F5;
  --white:       #FFFFFF;
  --sidebar:     220px;
  --font:        'IBM Plex Sans', sans-serif;
  --mono:        'IBM Plex Mono', monospace;
}
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
body { font-family:var(--font); background:var(--canvas); color:var(--ink); display:flex; min-height:100vh; font-size:14px; }
::-webkit-scrollbar { width:4px; height:4px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:var(--rule); border-radius:4px; }

/* ══ SIDEBAR ══ */
.sidebar {
  width:var(--sidebar); background:#610e03;
  position:fixed; top:0; left:0; bottom:0; z-index:100;
  display:flex; flex-direction:column;
  border-right:1px solid rgba(255,255,255,0.05);
}
.sidebar::after {
  content:''; position:absolute; top:0; left:0; right:0; height:2px;
  background:linear-gradient(90deg,var(--red),var(--gold),var(--red));
}
.sb-brand { padding:22px 18px 16px; border-bottom:1px solid rgba(255,255,255,0.06); }
.sb-logo  { display:flex; align-items:center; gap:10px; margin-bottom:10px; }
.sb-icon  {
  width:36px; height:36px; border-radius:8px;
  background:linear-gradient(135deg,var(--red),var(--red-deep));
  display:flex; align-items:center; justify-content:center;
  font-weight:700; font-size:12px; color:#fff; flex-shrink:0;
}
.sb-name { font-size:13px; font-weight:600; color:#fff; }
.sb-sub  { font-size:10px; color:rgba(255,255,255,0.32); letter-spacing:1.4px; text-transform:uppercase; }
.sb-tag  {
  display:inline-block; background:rgba(184,148,42,0.14); border:1px solid rgba(184,148,42,0.28);
  color:#C9A84C; font-size:9.5px; font-weight:600; letter-spacing:1.2px;
  text-transform:uppercase; padding:3px 9px; border-radius:4px;
}
.sb-nav { flex:1; padding:12px 0; overflow-y:auto; }
.sb-section {
  font-size:9px; font-weight:600; letter-spacing:2px; text-transform:uppercase;
  color:rgba(255,255,255,0.18); padding:10px 18px 5px;
}
.sb-item {
  display:flex; align-items:center; gap:9px; padding:9px 18px;
  color:rgba(255,255,255,0.42); font-size:12.5px; font-weight:400;
  cursor:pointer; border-left:2px solid transparent; transition:all 0.15s;
}
.sb-item:hover { color:rgba(255,255,255,0.75); background:rgba(255,255,255,0.04); }
.sb-item.active { color:#fff; background:rgba(192,57,43,0.14); border-left-color:var(--red); }
.sb-dot { width:5px; height:5px; border-radius:50%; background:currentColor; opacity:0.45; flex-shrink:0; }
.sb-item.active .sb-dot { background:var(--red); opacity:1; }
.sb-footer {
  padding:13px 18px; border-top:1px solid rgba(255,255,255,0.06);
  display:flex; align-items:center; gap:10px;
}
.sb-av {
  width:32px; height:32px; border-radius:50%;
  background:linear-gradient(135deg,var(--red),var(--red-deep));
  display:flex; align-items:center; justify-content:center;
  font-size:11px; font-weight:700; color:#fff; flex-shrink:0;
  border:1.5px solid rgba(255,255,255,0.14);
}
.sb-user-name { font-size:12px; font-weight:600; color:#fff; }
.sb-user-role { font-size:10px; color:rgba(255,255,255,0.28); }
.sb-live { margin-left:auto; display:flex; align-items:center; gap:5px; font-size:9.5px; color:var(--green-lt); font-weight:600; }
.sb-live-dot { width:6px; height:6px; border-radius:50%; background:var(--green-lt); animation:blink 2s infinite; }
@keyframes blink { 0%,100%{opacity:1;} 50%{opacity:0.25;} }

/* ══ MAIN ══ */
.main { margin-left:var(--sidebar); flex:1; display:flex; flex-direction:column; }
.topbar {
  background:var(--white); border-bottom:1px solid var(--rule);
  height:58px; padding:0 28px;
  display:flex; align-items:center; gap:16px;
  position:sticky; top:0; z-index:50;
  box-shadow:0 1px 6px rgba(0,0,0,0.05);
}
.tb-title { font-size:15px; font-weight:600; color:var(--ink); }
.tb-sub   { font-size:11.5px; color:var(--ink-3); margin-top:1px; }
.tb-right { display:flex; align-items:center; gap:9px; margin-left:auto; }
.chip { display:inline-flex; align-items:center; gap:6px; padding:5px 12px; border-radius:6px; font-size:11.5px; font-weight:500; border:1px solid; }
.chip-live { background:var(--green-muted); border-color:rgba(26,122,65,0.22); color:var(--green); }
.chip-live-dot { width:6px; height:6px; border-radius:50%; background:var(--green-lt); animation:blink 2s infinite; }
.chip-date { background:var(--surface); border-color:var(--rule); color:var(--ink-2); }
.chip-vp   { background:var(--red-muted); border-color:var(--red-border); color:var(--red); font-weight:600; font-size:10.5px; letter-spacing:0.5px; }

/* ══ PAGE VIEWS ══ */
.page { display:none; }
.page.active { display:block; }
.content { padding:22px 28px; flex:1; }

/* ── LAYER HEADERS ── */
.layer-head { display:flex; align-items:center; gap:12px; margin-bottom:14px; margin-top:2px; }
.layer-label { font-size:9.5px; font-weight:700; letter-spacing:2px; text-transform:uppercase; color:var(--ink-3); white-space:nowrap; }
.layer-rule { flex:1; height:1px; background:var(--rule); }
.lbadge { font-size:9.5px; font-weight:600; padding:2px 8px; border-radius:4px; white-space:nowrap; }
.lb-red  { background:var(--red-muted); color:var(--red); border:1px solid var(--red-border); }
.lb-warn { background:var(--orange-muted); color:var(--orange); border:1px solid rgba(192,86,33,0.2); }
.lb-gray { background:var(--surface); color:var(--ink-3); border:1px solid var(--rule); }
.lb-blue { background:var(--blue-muted); color:var(--blue); border:1px solid rgba(27,95,168,0.2); }

/* ══ LAYER 1 SIGNALS ══ */
.signal-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:12px; margin-bottom:22px; }
.sig-card {
  background:var(--white); border-radius:10px; border:1px solid var(--rule);
  padding:18px 18px 15px; position:relative; overflow:hidden;
  transition:box-shadow 0.2s; animation:fadeUp 0.4s ease both;
}
.sig-card:hover { box-shadow:0 5px 18px rgba(0,0,0,0.07); }
.sig-card::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; }
.sc-red::before    { background:var(--red); }
.sc-orange::before { background:var(--orange); }
.sc-green::before  { background:var(--green); }
.sc-blue::before   { background:var(--blue); }
.sig-card:nth-child(1){animation-delay:.04s} .sig-card:nth-child(2){animation-delay:.08s}
.sig-card:nth-child(3){animation-delay:.12s} .sig-card:nth-child(4){animation-delay:.16s}
.sig-label { font-size:10px; font-weight:600; letter-spacing:1px; text-transform:uppercase; color:var(--ink-3); margin-bottom:10px; }
.sig-value { font-size:34px; font-weight:700; line-height:1; margin-bottom:4px; font-family:var(--mono); }
.sig-context { font-size:11.5px; color:var(--ink-3); margin-bottom:9px; }
.sig-pill { display:inline-flex; align-items:center; gap:4px; font-size:10.5px; font-weight:600; padding:3px 8px; border-radius:5px; }
.sp-bad  { background:var(--red-muted); color:var(--red); }
.sp-warn { background:var(--orange-muted); color:var(--orange); }
.sp-ok   { background:var(--green-muted); color:var(--green); }
.sp-neu  { background:var(--blue-muted); color:var(--blue); }

/* ══ LAYER 2 MATRIX ══ */
.matrix-row { display:grid; grid-template-columns:1.55fr 1fr; gap:14px; margin-bottom:22px; }
.card { background:var(--white); border-radius:10px; border:1px solid var(--rule); overflow:hidden; animation:fadeUp 0.5s ease both; animation-delay:0.22s; }
.card-head { padding:14px 18px 12px; border-bottom:1px solid var(--surface); display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.card-title { font-size:13px; font-weight:600; color:var(--ink); }
.card-desc  { font-size:11px; color:var(--ink-3); margin-top:2px; }
.card-body  { padding:16px 18px; }

.rtable { width:100%; border-collapse:collapse; }
.rtable thead th { font-size:9.5px; font-weight:600; letter-spacing:1.2px; text-transform:uppercase; color:var(--ink-3); padding:8px 10px; text-align:left; background:var(--surface); }
.rtable thead th:first-child { border-radius:6px 0 0 6px; }
.rtable thead th:last-child  { border-radius:0 6px 6px 0; }
.rtable tbody td { padding:11px 10px; border-bottom:1px solid var(--surface); font-size:12.5px; vertical-align:middle; }
.rtable tbody tr:last-child td { border-bottom:none; }
.rtable tbody tr:hover td { background:rgba(0,0,0,0.015); }
.bname { font-weight:600; font-size:13px; }
.bsub  { font-size:10.5px; color:var(--ink-3); margin-top:1px; }
.risk-badge { display:inline-flex; align-items:center; font-size:10.5px; font-weight:700; padding:3px 9px; border-radius:20px; }
.rb-crit { background:var(--red-muted); color:var(--red); border:1px solid var(--red-border); }
.rb-warn { background:var(--orange-muted); color:var(--orange); border:1px solid rgba(192,86,33,0.2); }
.rb-ok   { background:var(--green-muted); color:var(--green); border:1px solid rgba(26,122,65,0.2); }
.rate-wrap { display:flex; align-items:center; gap:8px; }
.rate-bar  { flex:1; height:5px; background:var(--canvas); border-radius:4px; overflow:hidden; min-width:55px; }
.rate-fill { height:100%; border-radius:4px; }
.rate-num  { font-family:var(--mono); font-size:12px; font-weight:600; width:38px; text-align:right; flex-shrink:0; }
.delta { font-family:var(--mono); font-size:11px; font-weight:600; padding:2px 6px; border-radius:4px; }
.d-dn  { color:var(--red); background:var(--red-muted); }
.d-up  { color:var(--green); background:var(--green-muted); }
.d-ne  { color:var(--ink-3); background:var(--surface); }

.action-list { display:flex; flex-direction:column; gap:8px; }
.ai { border-radius:8px; border-left:3px solid; padding:12px 14px; }
.ai-crit { background:rgba(192,57,43,0.04); border-color:var(--red); }
.ai-warn { background:rgba(192,86,33,0.04); border-color:var(--orange); }
.ai-info { background:rgba(27,95,168,0.04); border-color:var(--blue); }
.ai-lvl  { font-size:9px; font-weight:700; letter-spacing:1.5px; text-transform:uppercase; margin-bottom:4px; }
.lvl-c   { color:var(--red); } .lvl-w { color:var(--orange); } .lvl-i { color:var(--blue); }
.ai-title { font-size:12.5px; font-weight:600; color:var(--ink); margin-bottom:3px; }
.ai-body  { font-size:11.5px; color:var(--ink-2); line-height:1.45; }
.ai-foot  { display:flex; align-items:center; justify-content:space-between; margin-top:8px; padding-top:7px; border-top:1px solid rgba(0,0,0,0.05); }
.ai-action { font-size:11px; font-weight:500; color:var(--ink-2); }
.ai-action strong { color:var(--ink); }
.ai-time   { font-family:var(--mono); font-size:10.5px; color:var(--ink-3); }

/* ══ LAYER 3 TRENDS ══ */
.trend-row { display:grid; grid-template-columns:1fr 1fr 1fr; gap:14px; margin-bottom:22px; }
.wk-chart  { display:flex; align-items:flex-end; gap:7px; height:90px; }
.wk-col    { flex:1; display:flex; flex-direction:column; align-items:center; gap:4px; }
.wk-pct    { font-family:var(--mono); font-size:10.5px; font-weight:600; }
.wk-track  { flex:1; width:100%; background:var(--canvas); border-radius:4px 4px 0 0; position:relative; overflow:hidden; }
.wk-fill   { position:absolute; bottom:0; left:0; right:0; border-radius:4px 4px 0 0; transition:height 1.1s cubic-bezier(0.34,1.2,0.64,1); }
.wk-day    { font-size:10px; font-weight:500; color:var(--ink-3); }
.wk-stats  { margin-top:12px; padding-top:12px; border-top:1px solid var(--surface); display:grid; grid-template-columns:1fr 1fr; gap:8px; }
.wkstat-val { font-family:var(--mono); font-size:15px; font-weight:700; }
.wkstat-lbl { font-size:10px; color:var(--ink-3); margin-top:1px; }
.pattern-list { display:flex; flex-direction:column; gap:6px; }
.pitem { display:flex; align-items:center; gap:10px; padding:9px 11px; border-radius:7px; background:var(--surface); border:1px solid var(--rule); }
.prank { font-family:var(--mono); font-size:11px; font-weight:700; color:var(--ink-3); width:16px; flex-shrink:0; }
.pinfo { flex:1; }
.pname { font-size:12px; font-weight:600; }
.psub  { font-size:10.5px; color:var(--ink-3); }
.pcount { font-family:var(--mono); font-size:12px; font-weight:700; color:var(--red); background:var(--red-muted); padding:2px 7px; border-radius:4px; }
.fc-list { display:flex; flex-direction:column; gap:9px; }
.fc-item { display:flex; gap:11px; align-items:flex-start; padding:10px 12px; border-radius:8px; background:var(--surface); border:1px solid var(--rule); }
.fc-icon { width:26px; height:26px; border-radius:6px; flex-shrink:0; display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:700; color:#fff; font-family:var(--mono); }
.fci-r{background:var(--red);} .fci-o{background:var(--orange);} .fci-b{background:var(--blue);} .fci-g{background:var(--green);}
.fc-text  { flex:1; }
.fc-title { font-size:12px; font-weight:600; color:var(--ink); margin-bottom:2px; }
.fc-body  { font-size:11px; color:var(--ink-3); line-height:1.4; }
.fc-prob  { font-family:var(--mono); font-size:11px; font-weight:700; flex-shrink:0; align-self:center; }

/* ══ LAYER 4 OPS ══ */
.ops-row { display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-bottom:14px; }
.dtable { width:100%; border-collapse:collapse; }
.dtable thead th { font-size:9.5px; font-weight:600; letter-spacing:1px; text-transform:uppercase; color:var(--ink-3); padding:8px 10px; text-align:left; background:var(--surface); }
.dtable thead th:first-child { border-radius:6px 0 0 6px; }
.dtable thead th:last-child  { border-radius:0 6px 6px 0; }
.dtable tbody td { padding:10px 10px; border-bottom:1px solid var(--surface); font-size:12.5px; vertical-align:middle; }
.dtable tbody tr:last-child td { border-bottom:none; }
.h-dot { width:7px; height:7px; border-radius:50%; display:inline-block; margin-right:5px; }
.mtd-2col { display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-bottom:14px; }
.mtd-box  { border-radius:8px; padding:14px; border:1px solid var(--rule); background:var(--surface); }
.mtd-val  { font-family:var(--mono); font-size:22px; font-weight:700; line-height:1; margin-bottom:3px; }
.mtd-lbl  { font-size:10px; font-weight:600; letter-spacing:0.8px; text-transform:uppercase; color:var(--ink-3); }
.mtd-sub  { font-size:11px; color:var(--ink-3); margin-top:4px; }
.prog-wrap { margin-bottom:12px; }
.prog-top  { display:flex; justify-content:space-between; margin-bottom:5px; }
.prog-track { height:7px; background:var(--canvas); border-radius:6px; overflow:hidden; }
.prog-fill  { height:100%; border-radius:6px; }
.prog-lbl  { font-size:11px; font-weight:500; color:var(--ink-2); }
.prog-val  { font-family:var(--mono); font-size:11.5px; font-weight:700; }
.prog-note { font-size:10.5px; color:var(--ink-3); margin-top:3px; }

/* ══ ANIMATIONS ══ */
@keyframes fadeUp  { from{opacity:0;transform:translateY(10px);}  to{opacity:1;transform:translateY(0);} }
@keyframes fadeIn  { from{opacity:0;} to{opacity:1;} }
@keyframes slideUp { from{opacity:0;transform:translateY(18px);} to{opacity:1;transform:translateY(0);} }
</style>
</head>
<body>

<!-- ══ SIDEBAR ══ -->
<aside class="sidebar">
  <div class="sb-brand">
    <div class="sb-logo">
      <div class="sb-icon">GDC</div>
      <div><div class="sb-name">ManPower</div><div class="sb-sub">Intelligence</div></div>
    </div>
    <div class="sb-tag">VP Executive</div>
  </div>
  <nav class="sb-nav">
    <div class="sb-section">Dashboard</div>
    <div class="sb-item active" data-page="dashboard"><div class="sb-dot"></div>Decision Dashboard</div>
    <div class="sb-item" data-page="dashboard"><div class="sb-dot"></div>Branch Intelligence</div>
    <div class="sb-item" data-page="dashboard"><div class="sb-dot"></div>Attendance Trends</div>

    <div class="sb-section">Administration</div>
    <div class="sb-item" data-page="accounts"><div class="sb-dot"></div>Account Management</div>
  </nav>
  <div class="sb-footer">
    <div class="sb-av">VP</div>
    <div><div class="sb-user-name">Vice President</div><div class="sb-user-role">Read-only · HQ</div></div>
    <div class="sb-live"><div class="sb-live-dot"></div>Live</div>
  </div>
</aside>

<!-- ══ MAIN ══ -->
<main class="main">
  <header class="topbar">
    <div>
      <div class="tb-title" id="topbarTitle">Manpower Decision Dashboard</div>
      <div class="tb-sub">Thursday, February 19, 2026 &nbsp;·&nbsp; Refreshed 09:42 AM</div>
    </div>
    <div class="tb-right">
      <div class="chip chip-live"><div class="chip-live-dot"></div>Live Data</div>
      <div class="chip chip-date">Feb 19, 2026</div>
      <div class="chip chip-vp">VP ACCESS</div>
    </div>
  </header>

  <!-- ══ DASHBOARD PAGE ══ -->
  <div class="page active" id="page-dashboard">
    <div class="content">

      <div class="layer-head">
        <div class="layer-label">Layer 1 — Immediate Signals</div>
        <div class="layer-rule"></div>
        <div class="lbadge lb-red">Requires Attention</div>
      </div>
      <div class="signal-grid">
        <div class="sig-card sc-red">
          <div class="sig-label">Unexcused Absences</div>
          <div class="sig-value" style="color:var(--red)">13</div>
          <div class="sig-context">employees — no notice filed</div>
          <div class="sig-pill sp-bad">Rising — +2 vs. yesterday</div>
        </div>
        <div class="sig-card sc-orange">
          <div class="sig-label">Late Arrivals Today</div>
          <div class="sig-value" style="color:var(--orange)">18</div>
          <div class="sig-context">checked in after 8:00 AM cutoff</div>
          <div class="sig-pill sp-warn">Spike — +4 vs. yesterday</div>
        </div>
        <div class="sig-card sc-green">
          <div class="sig-label">Org Attendance Rate</div>
          <div class="sig-value" style="color:var(--green)">85.1%</div>
          <div class="sig-context">211 of 248 present today</div>
          <div class="sig-pill sp-ok">Within acceptable range</div>
        </div>
        <div class="sig-card sc-blue">
          <div class="sig-label">Avg. Hours Worked</div>
          <div class="sig-value" style="color:var(--blue)">7.4h</div>
          <div class="sig-context">target: 8.0 hrs per day</div>
          <div class="sig-pill sp-warn">0.6h below target daily</div>
        </div>
      </div>

      <div class="layer-head">
        <div class="layer-label">Layer 2 — Decision Matrix</div>
        <div class="layer-rule"></div>
        <div class="lbadge lb-warn">Act on These</div>
      </div>
      <div class="matrix-row">
        <div class="card">
          <div class="card-head">
            <div><div class="card-title">Branch Risk Assessment</div><div class="card-desc">Sorted by risk — red branches need VP action today</div></div>
            <div class="lbadge lb-gray">6 Branches</div>
          </div>
          <div style="overflow-x:auto;">
            <table class="rtable">
              <thead><tr><th>Branch</th><th>Attendance Rate</th><th>Absent</th><th>Late</th><th>vs. Yesterday</th><th>Risk Level</th></tr></thead>
              <tbody id="riskTable"></tbody>
            </table>
          </div>
        </div>
        <div class="card">
          <div class="card-head">
            <div><div class="card-title">Priority Action Items</div><div class="card-desc">What the VP should address today</div></div>
            <div class="lbadge lb-red">3 Open</div>
          </div>
          <div class="card-body"><div class="action-list" id="actionList"></div></div>
        </div>
      </div>

      <div class="layer-head">
        <div class="layer-label">Layer 3 — Trend Intelligence</div>
        <div class="layer-rule"></div>
        <div class="lbadge lb-gray">This Week + Forecast</div>
      </div>
      <div class="trend-row">
        <div class="card">
          <div class="card-head"><div><div class="card-title">Weekly Attendance Trend</div><div class="card-desc">Daily rate Feb 16–20</div></div></div>
          <div class="card-body">
            <div class="wk-chart" id="weekChart"></div>
            <div class="wk-stats">
              <div><div class="wkstat-val" style="color:var(--ink)">84.3%</div><div class="wkstat-lbl">Week avg (Mon–Thu)</div></div>
              <div><div class="wkstat-val" style="color:var(--red)">−1.8%</div><div class="wkstat-lbl">vs. last week avg</div></div>
              <div><div class="wkstat-val" style="color:var(--orange)">54</div><div class="wkstat-lbl">Total late this week</div></div>
              <div><div class="wkstat-val" style="color:var(--red)">38</div><div class="wkstat-lbl">Total absent this week</div></div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-head"><div><div class="card-title">Repeat Absence Hotspots</div><div class="card-desc">Branches with recurring patterns — Feb MTD</div></div></div>
          <div class="card-body">
            <div class="pattern-list" id="patternList"></div>
            <div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--surface);font-size:11px;color:var(--ink-3);line-height:1.5;">
              <strong style="color:var(--ink)">Signal:</strong> Batangas absences cluster on Mondays — suggests schedule or morale issue. Warrants HR field visit.
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-head"><div><div class="card-title">Predictive Risk Signals</div><div class="card-desc">Forward-looking flags for next 1–3 days</div></div></div>
          <div class="card-body"><div class="fc-list" id="fcList"></div></div>
        </div>
      </div>

      <div class="layer-head">
        <div class="layer-label">Layer 4 — Operational Health</div>
        <div class="layer-rule"></div>
        <div class="lbadge lb-gray">HQ Departments + MTD</div>
      </div>
      <div class="ops-row">
        <div class="card">
          <div class="card-head"><div><div class="card-title">HQ Department Health</div><div class="card-desc">Understaffed departments affect service delivery directly</div></div></div>
          <div style="overflow-x:auto;">
            <table class="dtable">
              <thead><tr><th>Department</th><th>Headcount</th><th>Present</th><th>Absent</th><th>Avg Hrs</th><th>Rate</th><th>Health</th></tr></thead>
              <tbody id="deptBody"></tbody>
            </table>
          </div>
        </div>
        <div class="card">
          <div class="card-head"><div><div class="card-title">Month-to-Date Scorecard</div><div class="card-desc">February 2026 — progress vs. targets</div></div></div>
          <div class="card-body">
            <div class="mtd-2col" id="mtdGrid"></div>
            <div class="prog-wrap">
              <div class="prog-top"><span class="prog-lbl">Attendance Target (90.0%)</span><span class="prog-val" style="color:var(--orange)">87.2%</span></div>
              <div class="prog-track"><div class="prog-fill" style="width:87.2%;background:linear-gradient(90deg,var(--orange),#E5873A)"></div></div>
              <div class="prog-note">2.8 pts below target — needs 1.2% daily improvement to close gap</div>
            </div>
            <div class="prog-wrap">
              <div class="prog-top"><span class="prog-lbl">Late Rate Target (&lt;5.0%)</span><span class="prog-val" style="color:var(--red)">7.3%</span></div>
              <div class="prog-track"><div class="prog-fill" style="width:73%;background:linear-gradient(90deg,var(--red),#E74C3C)"></div></div>
              <div class="prog-note">2.3 pts above threshold — late policy enforcement needed</div>
            </div>
            <div class="prog-wrap" style="margin-bottom:0">
              <div class="prog-top"><span class="prog-lbl">Avg Hours Target (8.0h)</span><span class="prog-val" style="color:var(--orange)">7.6h</span></div>
              <div class="prog-track"><div class="prog-fill" style="width:95%;background:linear-gradient(90deg,var(--orange),#E5873A)"></div></div>
              <div class="prog-note">0.4h deficit daily — ~48 hrs lost org-wide per month</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<script>
// ── DATA ──
const branches = [
  {name:'Batangas Branch', region:'Luzon',        rate:61, absent:5, late:2, delta:-8, risk:'crit'},
  {name:'Davao Branch',    region:'Mindanao',     rate:84, absent:3, late:4, delta:-2, risk:'warn'},
  {name:'NCR North',       region:'Metro Manila', rate:85, absent:4, late:6, delta:+1, risk:'warn'},
  {name:'NCR South',       region:'Metro Manila', rate:86, absent:2, late:3, delta:0,  risk:'ok'},
  {name:'Cebu Main',       region:'Visayas',      rate:90, absent:2, late:2, delta:+2, risk:'ok'},
  {name:'Iloilo Branch',   region:'Visayas',      rate:93, absent:1, late:1, delta:+1, risk:'ok'},
];

function rateGrad(r){ return r>=85?'linear-gradient(90deg,#1A7A41,#25A35A)':r>=70?'linear-gradient(90deg,#C05621,#E5873A)':'linear-gradient(90deg,#C0392B,#E74C3C)'; }
function rateColor(r){ return r>=85?'var(--green)':r>=70?'var(--orange)':'var(--red)'; }

// ── RISK TABLE ──
document.getElementById('riskTable').innerHTML = branches.map(b=>{
  const dCls = b.delta<0?'d-dn':b.delta>0?'d-up':'d-ne';
  const dTxt = b.delta<0?'▼ '+Math.abs(b.delta)+'%':b.delta>0?'▲ +'+b.delta+'%':'→ Flat';
  const rb = b.risk==='crit'?'<span class="risk-badge rb-crit">Critical</span>':
             b.risk==='warn'?'<span class="risk-badge rb-warn">Needs Attention</span>':
             '<span class="risk-badge rb-ok">Stable</span>';
  return `<tr>
    <td><div class="bname">${b.name}</div><div class="bsub">${b.region}</div></td>
    <td><div class="rate-wrap"><div class="rate-bar"><div class="rate-fill" style="width:${b.rate}%;background:${rateGrad(b.rate)}"></div></div><span class="rate-num" style="color:${rateColor(b.rate)}">${b.rate}%</span></div></td>
    <td style="font-family:var(--mono);font-weight:600;color:var(--red)">${b.absent}</td>
    <td style="font-family:var(--mono);font-weight:600;color:var(--orange)">${b.late}</td>
    <td><span class="delta ${dCls}">${dTxt}</span></td>
    <td>${rb}</td>
  </tr>`;
}).join('');

// ── ACTIONS ──
document.getElementById('actionList').innerHTML = [
  {cls:'ai-crit',lvlCls:'lvl-c',lvl:'Critical',
   title:'Batangas Branch — Intervention Required Today',
   body:'Attendance at 61%, 5 unexcused absences with no notices. Operations risk understaffing by afternoon.',
   action:'Call branch manager, activate standby roster',time:'Since 08:00 AM'},
  {cls:'ai-warn',lvlCls:'lvl-w',lvl:'Warning',
   title:'Late Spike — NCR North (6 today vs. avg 2.5)',
   body:'Pattern indicates schedule adherence breakdown. Left unaddressed, lates convert to absences within 2–3 days.',
   action:'Issue attendance policy reminder to branch',time:'Since 08:42 AM'},
  {cls:'ai-info',lvlCls:'lvl-i',lvl:'Watch',
   title:'12 Leave Requests Awaiting HR Approval',
   body:'Backlog creates uncertainty in next week\'s headcount. Early resolution allows scheduling adjustments.',
   action:'HR to clear leave backlog today',time:'Since yesterday'},
].map(a=>`
  <div class="ai ${a.cls}">
    <div class="ai-lvl ${a.lvlCls}">${a.lvl}</div>
    <div class="ai-title">${a.title}</div>
    <div class="ai-body">${a.body}</div>
    <div class="ai-foot">
      <div class="ai-action"><strong>Act:</strong> ${a.action}</div>
      <div class="ai-time">${a.time}</div>
    </div>
  </div>
`).join('');

// ── WEEKLY CHART ──
document.getElementById('weekChart').innerHTML = [
  {day:'Mon',pct:83},{day:'Tue',pct:88},{day:'Wed',pct:81},{day:'Thu',pct:85,today:true},{day:'Fri',pct:null}
].map(d=>`
  <div class="wk-col">
    <div class="wk-pct" style="color:${d.today?'var(--red)':d.pct?'var(--ink-2)':'var(--ink-3)'}">${d.pct?d.pct+'%':'—'}</div>
    <div class="wk-track"><div class="wk-fill" style="height:${d.pct||0}%;background:${d.today?'linear-gradient(180deg,#E74C3C,#C0392B)':d.pct?'linear-gradient(180deg,#25A35A,#1A7A41)':'var(--rule)'}"></div></div>
    <div class="wk-day" style="${d.today?'color:var(--red);font-weight:600':''}">${d.day}</div>
  </div>
`).join('');

// ── PATTERNS ──
document.getElementById('patternList').innerHTML = [
  {r:1,n:'Batangas Branch',s:'5 repeat absentees — Monday cluster',c:14},
  {r:2,n:'Davao Branch',   s:'3 recurring absentees this month',   c:9},
  {r:3,n:'NCR North',      s:'Lates converting to absences',       c:7},
  {r:4,n:'NCR South',      s:'2 employees with 4+ absences each',  c:5},
].map(p=>`
  <div class="pitem">
    <div class="prank">${p.r}</div>
    <div class="pinfo"><div class="pname">${p.n}</div><div class="psub">${p.s}</div></div>
    <div class="pcount">${p.c} incidents</div>
  </div>
`).join('');

// ── FORECAST ──
document.getElementById('fcList').innerHTML = [
  {icon:'fci-r',ltr:'!',title:'Batangas likely below 60% tomorrow',body:'No roster backup confirmed. Without intervention today, further decline expected.',prob:'HIGH',pc:'var(--red)'},
  {icon:'fci-o',ltr:'T',title:'Late spike may persist through Friday',body:'NCR North late pattern correlates with end-of-week fatigue.',prob:'MED',pc:'var(--orange)'},
  {icon:'fci-b',ltr:'L',title:'Leave backlog impact — next week',body:'If all 12 requests approved, headcount drops ~4.8% next week.',prob:'LIKELY',pc:'var(--blue)'},
  {icon:'fci-g',ltr:'C',title:'Cebu & Iloilo — stable, no VP action',body:'Both branches above 90% MTD. Minimal intervention required.',prob:'STABLE',pc:'var(--green)'},
].map(f=>`
  <div class="fc-item">
    <div class="fc-icon ${f.icon}">${f.ltr}</div>
    <div class="fc-text"><div class="fc-title">${f.title}</div><div class="fc-body">${f.body}</div></div>
    <div class="fc-prob" style="color:${f.pc}">${f.prob}</div>
  </div>
`).join('');

// ── DEPT ──
document.getElementById('deptBody').innerHTML = [
  {n:'Operations',    hc:42,p:38,a:2,h:7.9,r:90},
  {n:'Sales & Retail',hc:28,p:24,a:1,h:7.5,r:86},
  {n:'Security',      hc:16,p:13,a:2,h:8.0,r:81},
  {n:'Finance',       hc:8, p:7, a:1,h:7.8,r:88},
  {n:'HR & Admin',    hc:12,p:11,a:0,h:8.1,r:92},
  {n:'IT & Systems',  hc:6, p:6, a:0,h:8.3,r:100},
].map(d=>{
  const col=d.r>=90?'var(--green)':d.r>=80?'var(--orange)':'var(--red)';
  const hl=d.r>=90?'Good':d.r>=80?'Watch':'Risk';
  return `<tr>
    <td style="font-weight:600">${d.n}</td>
    <td style="font-family:var(--mono)">${d.hc}</td>
    <td style="font-family:var(--mono);font-weight:600;color:var(--green)">${d.p}</td>
    <td style="font-family:var(--mono);font-weight:600;color:${d.a>0?'var(--red)':'var(--ink-3)'}">${d.a}</td>
    <td style="font-family:var(--mono)">${d.h}h</td>
    <td><div class="rate-wrap"><div class="rate-bar"><div class="rate-fill" style="width:${d.r}%;background:${rateGrad(d.r)}"></div></div><span class="rate-num" style="color:${rateColor(d.r)}">${d.r}%</span></div></td>
    <td><span class="h-dot" style="background:${col}"></span><span style="font-size:11.5px;font-weight:600;color:${col}">${hl}</span></td>
  </tr>`;
}).join('');

// ── MTD ──
document.getElementById('mtdGrid').innerHTML = [
  {v:'248',   l:'Total Workforce', s:'Across 6 branches', c:'var(--ink)'},
  {v:'87.2%', l:'MTD Attendance',  s:'Target: 90.0%',     c:'var(--orange)'},
  {v:'7.6h',  l:'Avg Daily Hours', s:'Target: 8.0h/day',  c:'var(--orange)'},
  {v:'31',    l:'Off Today',       s:'Absent + on leave', c:'var(--red)'},
].map(m=>`
  <div class="mtd-box">
    <div class="mtd-val" style="color:${m.c}">${m.v}</div>
    <div class="mtd-lbl">${m.l}</div>
    <div class="mtd-sub">${m.s}</div>
  </div>
`).join('');

document.querySelectorAll('.sb-item').forEach(item=>{
  item.addEventListener('click', function(){
    document.querySelectorAll('.sb-item').forEach(i=>i.classList.remove('active'));
    this.classList.add('active');
    const target = this.getAttribute('data-page');
    Object.keys(pages).forEach(k=>{
      document.getElementById(pages[k].pageId).classList.remove('active');
    });
    if(pages[target]){
      document.getElementById(pages[target].pageId).classList.add('active');
      document.getElementById('topbarTitle').textContent = pages[target].title;
    }
  });
});

// Special nav for account management
document.querySelectorAll('[data-page="accounts"]').forEach(el=>{
  el.setAttribute('data-page','accounts');
});

// ── MODAL ──
let currentRole = 'hq-hr';


function selectRole(role, el){
  currentRole = role;
  document.querySelectorAll('.role-opt').forEach(o=>o.classList.remove('selected','rb-orange','rb-blue-sel'));
  el.classList.add('selected');
  if(role==='branch-admin') el.classList.add('rb-orange');
  if(role==='employee') el.classList.add('rb-blue-sel');

  const bf = document.getElementById('branchField');
  const hf = document.getElementById('hqDeptField');

  if(role==='hq-hr'){
    bf.style.display='none'; hf.style.display='block';
    document.getElementById('createBtn').textContent='Create HQ HR Admin';
  } else if(role==='branch-admin'){
    bf.style.display='block'; hf.style.display='none';
    document.getElementById('createBtn').textContent='Create Branch Admin';
  } else {
    bf.style.display='block'; hf.style.display='none';
    document.getElementById('createBtn').textContent='Create Employee Account';
  }
}

function selectRoleByKey(role){
  const map = {'hq-hr':'roleOpt1','branch-admin':'roleOpt2','employee':'roleOpt3'};
  const el = document.getElementById(map[role]);
  if(el) selectRole(role, el);
}

// Initialize modal role display
selectRoleByKey('hq-hr');
document.getElementById('branchField').style.display='none';
document.getElementById('hqDeptField').style.display='block';
</script>
</body>
</html>